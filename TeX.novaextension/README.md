# TeX Suite

Supported languages:

 - LaTeX
 - ConTeXt
 - plain TeX

Supported features:

- syntax highlighting
- spell checking
- auto indentation
- language server (LaTeX, ConTeXt)
- command completion suggestions
- auto-completion of `\end` commands (LaTeX)
- auto-completion of `\stop` commands (ConTeXt)
- outlining and folding of document structure: `\chapter`, `\section` etc (LaTeX, ConTeXt)  
  *currently not for ConTeXt \start\stop variants*
- folding of `\begin` / `\end` (LaTeX)
- folding of `\start` / `\stop` (ConTeXt)
- environment name suggestions (LaTeX)
- tasks for building and live PDF preview (ConTeXt, LaTeX via `latexmk`)

### LaTeX

You will need a TeX distribution installed on your system.
This extension has been tested and is known to work with both [MacTeX](https://www.tug.org/mactex/) and TeX Live from the [Nix Package Manager](https://nixos.org).
On your system, [latexmk](http://personal.psu.edu/~jcc8/software/latexmk/), the PDF backend you want to use (pdfLaTeX, XeLaTeX or LuaLaTeX) and all packages used in your document need to be available in order to build the PDF from within Nova.

A `latexmkrc` or `.latexmkrc` file, located at the root of your workspace, is recognized.
That file *must* set `$pdf_mode` to something other than `0` so that a PDF is generated.
If that file sets `@default_files`, a task configuration for each of the files listed there will be generated.
Otherwise, a single task is created that builds the currently active file.

If the autogenerated task(s) do not fit with your project, you can create a task from the `latexmk` template and set all desired `latexmk` options manually – this can be done in the *Project Settings*.

If and only if no `latexmkrc` / `.latexmkrc` file exists at the workspace root, building the PDF will use the PDF processor chosen in the extension's settings.

### ConTeXt
  
For building and live preview of a ConTeXt project, you have to create a task from the `context` template in *Project Settings*.
You need to tell the task your primary `.tex` file that should be compiled.

Neither forwards nor backwards navigation are working with ConTeXt, the ConTeXt wiki states that this may be a bug in ConTeXt's SyncTeX implementation.

### Language Server

You can use any language server that supports talking via stdin/stdout.
Specify the path to the language server in the extension's preferences.
Recommended language servers are:

 - [TexLab](https://github.com/latex-lsp/texlab) (default for LaTeX, supports LaTeX)
 - [Digestif](https://github.com/latex-lsp/texlab) (default for ConTeXt, supports LaTeX and ConTeXt)

### PDF Building and Preview

For viewing the document, you need the PDF viewer [Skim](https://skim-app.sourceforge.io) which, unlike Preview, supports SyncTeX.
It is recommended to position Nova and Skim side-by-side.
The PDF view does not integrate into the Nova window.

Both the autogenerated tasks and a task created via template support the following actions:

- *build* builds the PDF document.
  This will build the PDF in the project's directory and dump all intermediate files there.
- *run* opens the PDF document in Skim (must have been built first) if not already open and navigates to the position of the cursor in the currently active source file.
  In Skim settings, you can select Nova as editor to enable backwards navigation via `⌘⇧`+Click.
- *clean* removes the PDF and intermediate files.
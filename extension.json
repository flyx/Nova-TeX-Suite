{
    "identifier": "org.flyx.tex",
    "name": "TeX Suite",
    "organization": "Felix Krause",
    "description": "Support for TeX, LaTeX and ConTeXt",
    "version": "0.5.0",
    "categories": ["languages", "completions", "commands", "tasks"],
    "bugs": "https://github.com/flyx/TeX.novaextension/issues",
    "repository": "https://github.com/flyx/TeX.novaextension",
    "funding": "https://github.com/sponsors/flyx",
    "license": "MIT",
    "main": "main.js",
    "activationEvents": [
      "onLanguage:tex",
      "onLanguage:latex",
      "onLanguage:context",
      "onWorkspaceContains:latexmkrc",
      "onWorkspaceContains:.latexmkrc",
      "onWorkspaceContains:*.tex"
    ],
    "entitlements": {
        "process": true,
        "filesystem": "readwrite"
    },
    "config": [
        {
            "key": "org.flyx.tex.paths.latex",
            "title": "LaTeX search path",
            "description": "Path that contains the LaTeX executables/scripts (latexmk, lualatex, pdflatexâ€¦). This will be added to the PATH when executing latexmk. Can be left empty if those tools are available in the PATH of your default shell.",
            "type": "path"
        },
        {
            "key": "org.flyx.tex.paths.context",
            "title": "Path to ConTeXt",
            "description": "The path to the `context` script. Can be left empty if context is available in the PATH of your default shell.",
            "type": "path"
        }
    ],
    "configWorkspace": [
        {
            "key": "org.flyx.tex.paths.latex",
            "title": "LaTeX search path",
            "description": "Overrides the global configuration if given.",
            "type": "path"
        },
        {
            "key": "org.flyx.tex.paths.context",
            "title": "Path to ConTeXt",
            "description": "Overrides the global configuration if given.",
            "type": "path"
        }
    ],
    "commands": {
        "editor": [
            {
                "title": "Emphasize Selection",
                "command": "org.flyx.tex.emph",
                "shortcut": "cmd-shift-i",
                "when": "editorHasFocus",
                "filters": {
                    "syntaxes": ["latex", "context"]
                }
            },
            {
                "title": "Make Selection Bold",
                "command": "org.flyx.tex.bold",
                "shortcut": "cmd-shift-b",
                "when": "editorHasFocus",
                "filters": {
                    "syntaxes": ["latex", "context"]
                }
            }
        ],
        "extensions": [
            {
                "title": "Show Skim Setup Instructions",
                "command": "org.flyx.tex.skim-setup"
            }
        ]
    },
    "issueMatchers": {
        "org.flyx.tex.error": {
            "pattern": {
                "regexp": "^([^\\s:]+):(\\d+):\\s+(.*)$",
                "message": 3,
                "file": 1,
                "line": 2,
                "severity": "error",
                "loop": false
            }
        }
    },
    "taskTemplates": {
        "latexmk": {
            "name": "latexmk",
            "description": "Builds the PDF via latexmk. Supports auto-update & preview with Skim via run button.",
            "config": [
                {
                    "key": "tex.latex.mainfile",
                    "title": "Main file",
                    "description": "The file latexmk should be called upon",
                    "type": "path"
                },
                {
                    "key": "tex.latex.processor",
                    "title": "LaTeX processor",
                    "description": "The LaTeX processor that should be used for building your PDF.",
                    "type": "enum",
                    "values": [
                        ["-pdflatex", "pdfLaTeX"],
                        ["-xelatex", "XeLaTeX"],
                        ["-lualatex", "LuaLaTeX"],
                        ["", "Let latexmk choose"]
                    ],
                    "default": "-lualatex"
                }
            ],
            "tasks": {
                "build": {
                    "resolve": "org.flyx.tex.tasks.latexmk"
                },
                "run": {
                    "resolve": "org.flyx.tex.tasks.latexmk",
                    "data": "template",
                    "persistent": true,
                    "buildBeforeRunning": false
                },
                "clean": {
                    "resolve": "org.flyx.tex.tasks.latexmk"
                }
            }
        },
        "context": {
            "name": "context",
            "description": "Builds the PDF with context. Supports auto-update & preview with Skim via run button.",
            "config": [
                {
                    "key": "tex.context.mainfile",
                    "title": "Main file",
                    "description": "The file context should be called upon",
                    "type": "path"
                }
            ],
            "tasks": {
                "build": {
                    "resolve": "org.flyx.tex.tasks.context"
                },
                "run": {
                    "resolve": "org.flyx.tex.tasks.context",
                    "persistent": true,
                    "buildBeforeRunning": false
                },
                "clean": {
                    "resolve": "org.flyx.tex.tasks.context"
                }
            }
        }
    }
}
